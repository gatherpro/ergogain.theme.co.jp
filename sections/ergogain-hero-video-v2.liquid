{% comment %}
  ErgoGain Hero Video v2 - Apple Mac風シンプルヒーロー

  特徴：
  - 中央揃えのテキスト（見出し + サブテキスト）
  - その下に動画配置
  - クリーンでミニマルなデザイン
  - 動画は自動再生・ループ
  - Apple公式サイト風のスタイリッシュなレイアウト
{% endcomment %}

<style>
  .eghv2-hero {
    background-color: {{ section.settings.eghv2_bg }};
    padding-top: {{ section.settings.eghv2_padding_top }}px;
    padding-bottom: {{ section.settings.eghv2_padding_bottom }}px;
    text-align: center;
  }

  .eghv2-hero__container {
    max-width: {{ section.settings.eghv2_max_width }}px;
    margin: 0 auto;
    padding: 0 {{ section.settings.eghv2_padding_x_mobile }}px;
  }

  @media screen and (min-width: 750px) {
    .eghv2-hero__container {
      padding: 0 {{ section.settings.eghv2_padding_x_desktop }}px;
    }
  }

  .eghv2-hero__text {
    margin-bottom: {{ section.settings.eghv2_text_video_gap }}px;
  }

  .eghv2-hero__kicker {
    font-size: 1.6rem;
    font-weight: 600;
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: {{ section.settings.eghv2_kicker_color }};
    margin: 0 0 1.6rem 0;
  }

  @media screen and (max-width: 749px) {
    .eghv2-hero__kicker {
      font-size: 1.4rem;
    }
  }

  .eghv2-hero__heading {
    font-size: {{ section.settings.eghv2_heading_size }}px;
    line-height: {{ section.settings.eghv2_heading_lh }};
    font-weight: 700;
    letter-spacing: -0.02em;
    color: {{ section.settings.eghv2_heading_color }};
    margin: 0 0 2rem 0;
  }

  @media screen and (max-width: 749px) {
    .eghv2-hero__heading {
      font-size: calc({{ section.settings.eghv2_heading_size }}px * 0.65);
    }
  }

  .eghv2-hero__subtext {
    font-size: 2rem;
    line-height: 1.5;
    color: {{ section.settings.eghv2_subtext_color }};
    margin: 0 auto 3.2rem auto;
    max-width: {{ section.settings.eghv2_subtext_max_width }}px;
  }

  @media screen and (max-width: 749px) {
    .eghv2-hero__subtext {
      font-size: 1.6rem;
      margin-bottom: 2.4rem;
    }
  }

  .eghv2-hero__cta {
    display: flex;
    justify-content: center;
    gap: 2rem;
    flex-wrap: wrap;
  }

  .eghv2-hero__btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 1.4rem 2.8rem;
    font-size: 1.6rem;
    font-weight: 600;
    text-decoration: none;
    border-radius: 980px;
    transition: all 0.2s ease;
    white-space: nowrap;
    outline: none;
  }

  .eghv2-hero__btn:focus-visible {
    outline: 2px solid {{ section.settings.eghv2_heading_color }};
    outline-offset: 4px;
  }

  .eghv2-hero__btn--primary {
    background-color: {{ section.settings.eghv2_btn_primary_bg }};
    color: {{ section.settings.eghv2_btn_primary_text }};
  }

  .eghv2-hero__btn--primary:hover {
    opacity: 0.9;
    transform: translateY(-1px);
  }

  .eghv2-hero__btn--secondary {
    background-color: transparent;
    color: {{ section.settings.eghv2_btn_secondary_color }};
    border: 2px solid {{ section.settings.eghv2_btn_secondary_color }};
  }

  .eghv2-hero__btn--secondary:hover {
    background-color: {{ section.settings.eghv2_btn_secondary_color }};
    color: {{ section.settings.eghv2_bg }};
  }

  .eghv2-hero__video-wrapper {
    max-width: {{ section.settings.eghv2_video_max_width }}%;
    margin: 0 auto;
    border-radius: {{ section.settings.eghv2_video_radius }}px;
    overflow: hidden;
    box-shadow: {{ section.settings.eghv2_video_shadow }};
  }

  .eghv2-hero__video {
    width: 100%;
    height: auto;
    display: block;
  }

  .eghv2-hero__video-fallback {
    width: 100%;
    height: auto;
    display: block;
  }

  @media (prefers-reduced-motion: reduce) {
    .eghv2-hero__btn {
      transition: none;
    }
    .eghv2-hero__btn--primary:hover {
      transform: none;
    }
  }
</style>

<section
  class="eghv2-hero"
  role="region"
  aria-label="{{ section.settings.eghv2_heading | escape }}"
>
  <div class="eghv2-hero__container">

    {%- comment -%} テキストエリア {%- endcomment -%}
    <div class="eghv2-hero__text">
      {%- if section.settings.eghv2_kicker != blank -%}
        <p class="eghv2-hero__kicker">{{ section.settings.eghv2_kicker }}</p>
      {%- endif -%}

      {%- if section.settings.eghv2_heading != blank -%}
        <h1 class="eghv2-hero__heading">{{ section.settings.eghv2_heading }}</h1>
      {%- endif -%}

      {%- if section.settings.eghv2_subtext != blank -%}
        <p class="eghv2-hero__subtext">{{ section.settings.eghv2_subtext }}</p>
      {%- endif -%}

      {%- if section.settings.eghv2_primary_label != blank and section.settings.eghv2_primary_link != blank -%}
        <div class="eghv2-hero__cta">
          <a
            href="{{ section.settings.eghv2_primary_link }}"
            class="eghv2-hero__btn eghv2-hero__btn--primary"
          >
            {{ section.settings.eghv2_primary_label }}
          </a>

          {%- if section.settings.eghv2_secondary_label != blank and section.settings.eghv2_secondary_link != blank -%}
            <a
              href="{{ section.settings.eghv2_secondary_link }}"
              class="eghv2-hero__btn eghv2-hero__btn--secondary"
            >
              {{ section.settings.eghv2_secondary_label }}
            </a>
          {%- endif -%}
        </div>
      {%- endif -%}
    </div>

    {%- comment -%} 動画エリア {%- endcomment -%}
    <div class="eghv2-hero__video-wrapper">
      {%- if section.settings.eghv2_video != blank -%}
        <video
          class="eghv2-hero__video"
          autoplay
          muted
          loop
          playsinline
          {% if section.settings.eghv2_poster != blank %}
            poster="{{ section.settings.eghv2_poster | image_url: width: 2000 }}"
          {% endif %}
          aria-label="{{ section.settings.eghv2_heading | escape }}"
        >
          <source src="{{ section.settings.eghv2_video }}" type="video/mp4">
          お使いのブラウザは動画の再生に対応していません。
        </video>
      {%- elsif section.settings.eghv2_fallback_image != blank -%}
        <img
          class="eghv2-hero__video-fallback"
          src="{{ section.settings.eghv2_fallback_image | image_url: width: 2000 }}"
          srcset="
            {{ section.settings.eghv2_fallback_image | image_url: width: 1000 }} 1000w,
            {{ section.settings.eghv2_fallback_image | image_url: width: 1500 }} 1500w,
            {{ section.settings.eghv2_fallback_image | image_url: width: 2000 }} 2000w
          "
          sizes="(min-width: 750px) {{ section.settings.eghv2_video_max_width }}vw, 100vw"
          alt="{{ section.settings.eghv2_heading | escape }}"
          loading="eager"
        >
      {%- endif -%}
    </div>

  </div>
</section>

{% schema %}
{
  "name": "ErgoGain Hero Video v2 (Apple風)",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "header",
      "content": "テキストコンテンツ"
    },
    {
      "type": "text",
      "id": "eghv2_kicker",
      "label": "キッカー（任意）",
      "default": "New"
    },
    {
      "type": "text",
      "id": "eghv2_heading",
      "label": "見出し",
      "default": "革新的な体験を、あなたの手元に"
    },
    {
      "type": "textarea",
      "id": "eghv2_subtext",
      "label": "サブテキスト"
    },
    {
      "type": "header",
      "content": "CTA（行動喚起）"
    },
    {
      "type": "text",
      "id": "eghv2_primary_label",
      "label": "メインボタンラベル"
    },
    {
      "type": "url",
      "id": "eghv2_primary_link",
      "label": "メインボタンリンク"
    },
    {
      "type": "text",
      "id": "eghv2_secondary_label",
      "label": "サブボタンラベル"
    },
    {
      "type": "url",
      "id": "eghv2_secondary_link",
      "label": "サブボタンリンク"
    },
    {
      "type": "header",
      "content": "動画設定"
    },
    {
      "type": "text",
      "id": "eghv2_video",
      "label": "動画URL (.mp4)",
      "info": "MP4ファイルの完全なURLを入力"
    },
    {
      "type": "image_picker",
      "id": "eghv2_poster",
      "label": "動画ポスター画像",
      "info": "動画読み込み前に表示される画像"
    },
    {
      "type": "image_picker",
      "id": "eghv2_fallback_image",
      "label": "フォールバック画像",
      "info": "動画がない場合に表示される画像"
    },
    {
      "type": "range",
      "id": "eghv2_video_max_width",
      "min": 60,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "動画最大幅",
      "default": 85,
      "info": "コンテナに対する動画の幅（60-100%）"
    },
    {
      "type": "range",
      "id": "eghv2_video_radius",
      "min": 0,
      "max": 40,
      "step": 4,
      "unit": "px",
      "label": "動画角丸",
      "default": 16
    },
    {
      "type": "select",
      "id": "eghv2_video_shadow",
      "label": "動画シャドウ",
      "options": [
        {
          "value": "none",
          "label": "なし"
        },
        {
          "value": "0 8px 24px rgba(0, 0, 0, 0.1)",
          "label": "小"
        },
        {
          "value": "0 16px 48px rgba(0, 0, 0, 0.15)",
          "label": "中"
        },
        {
          "value": "0 24px 64px rgba(0, 0, 0, 0.2)",
          "label": "大"
        }
      ],
      "default": "0 16px 48px rgba(0, 0, 0, 0.15)"
    },
    {
      "type": "header",
      "content": "レイアウト"
    },
    {
      "type": "range",
      "id": "eghv2_max_width",
      "min": 1000,
      "max": 2400,
      "step": 100,
      "unit": "px",
      "label": "セクション最大幅",
      "default": 1600
    },
    {
      "type": "range",
      "id": "eghv2_padding_x_mobile",
      "min": 16,
      "max": 80,
      "step": 8,
      "unit": "px",
      "label": "左右余白（モバイル）",
      "default": 24
    },
    {
      "type": "range",
      "id": "eghv2_padding_x_desktop",
      "min": 24,
      "max": 120,
      "step": 8,
      "unit": "px",
      "label": "左右余白（デスクトップ）",
      "default": 64
    },
    {
      "type": "range",
      "id": "eghv2_padding_top",
      "min": 40,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "上余白",
      "default": 80
    },
    {
      "type": "range",
      "id": "eghv2_padding_bottom",
      "min": 40,
      "max": 200,
      "step": 10,
      "unit": "px",
      "label": "下余白",
      "default": 100
    },
    {
      "type": "range",
      "id": "eghv2_text_video_gap",
      "min": 40,
      "max": 120,
      "step": 10,
      "unit": "px",
      "label": "テキストと動画の間隔",
      "default": 60
    },
    {
      "type": "header",
      "content": "タイポグラフィ"
    },
    {
      "type": "range",
      "id": "eghv2_heading_size",
      "min": 40,
      "max": 96,
      "step": 4,
      "unit": "px",
      "label": "見出しサイズ",
      "default": 64
    },
    {
      "type": "range",
      "id": "eghv2_heading_lh",
      "min": 1.0,
      "max": 1.4,
      "step": 0.05,
      "label": "見出し行間",
      "default": 1.1
    },
    {
      "type": "range",
      "id": "eghv2_subtext_max_width",
      "min": 400,
      "max": 900,
      "step": 50,
      "unit": "px",
      "label": "サブテキスト最大幅",
      "default": 700
    },
    {
      "type": "header",
      "content": "カラー"
    },
    {
      "type": "color",
      "id": "eghv2_kicker_color",
      "label": "キッカー色",
      "default": "#86868b"
    },
    {
      "type": "color",
      "id": "eghv2_heading_color",
      "label": "見出し色",
      "default": "#1d1d1f"
    },
    {
      "type": "color",
      "id": "eghv2_subtext_color",
      "label": "サブテキスト色",
      "default": "#6e6e73"
    },
    {
      "type": "color",
      "id": "eghv2_btn_primary_bg",
      "label": "メインボタン背景色",
      "default": "#0071e3"
    },
    {
      "type": "color",
      "id": "eghv2_btn_primary_text",
      "label": "メインボタンテキスト色",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "eghv2_btn_secondary_color",
      "label": "サブボタン色",
      "default": "#0071e3"
    },
    {
      "type": "color",
      "id": "eghv2_bg",
      "label": "背景色",
      "default": "#ffffff"
    }
  ],
  "presets": [
    {
      "name": "ErgoGain Hero Video v2 (Apple風)"
    }
  ]
}
{% endschema %}
